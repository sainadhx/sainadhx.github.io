<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debugging Odin programs using lldb</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <header>
        <nav>
            <a href="/">Home</a>
            <a href="/blog/">Blog</a>
        </nav>
    </header>
    <main>
        <h1>Debugging Odin programs using lldb</h1>
        <p class="post-date">January 17, 2025</p>
        <h2>Prerequisites</h2>
<ul>
<li>Install <a href="https://lldb.llvm.org/">lldb</a></li>
</ul>
<hr>
<h2>Command Line Debugging</h2>
<ul>
<li>Compile the odin program in debug mode.</li>
</ul>
<p><code>odin build . -debug -out:debug.bin</code></p>
<ul>
<li>Start lldb on command line with the generated binary.</li>
</ul>
<p><code>lldb debug.bin</code></p>
<hr>
<h2>Using VSCode</h2>
<h2>Setup</h2>
<ul>
<li>Install the CodeLLDB VSCode extension from Extensions</li>
<li>Create a <code>.vscode</code> folder at the root of your Odin project</li>
<li>Copy <code>launch.json</code> and <code>tasks.json</code> provide below into it</li>
<li>Goto Run (in menu) and click on <strong>Start Debugging</strong></li>
</ul>
<h4>launch.json</h4>
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;"><code><span style="display:flex;"><span><span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">&#34;version&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;1.0.0&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">&#34;configurations&#34;</span><span style="color:#eceff4">:</span> <span style="color:#eceff4">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;type&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;lldb&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;request&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;launch&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;preLaunchTask&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;Build&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;name&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;Debug&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;program&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;${workspaceFolder}/build/debug.bin&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;args&#34;</span><span style="color:#eceff4">:</span> <span style="color:#eceff4">[],</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;cwd&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;${workspaceFolder}&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">]</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span></code></pre><h4>tasks.json</h4>
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;"><code><span style="display:flex;"><span><span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">&#34;version&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;1.0.0&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">&#34;command&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">&#34;args&#34;</span><span style="color:#eceff4">:</span> <span style="color:#eceff4">[],</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">&#34;tasks&#34;</span><span style="color:#eceff4">:</span> <span style="color:#eceff4">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;label&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;clean_and_makedir&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;type&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;shell&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;command&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;rm -rf build/ &amp;&amp; mkdir -p build&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#eceff4">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;label&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;build&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;type&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;shell&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;command&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;odin build . -debug -out:build/debug.bin&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;group&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;build&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#eceff4">},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;label&#34;</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;Build&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1">&#34;dependsOn&#34;</span><span style="color:#eceff4">:</span> <span style="color:#eceff4">[</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a3be8c">&#34;clean_and_makedir&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a3be8c">&#34;build&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#eceff4">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">]</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span></code></pre>
    </main>
</body>
</html>
